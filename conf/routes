# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

GET     /                           @controllers.Application.index()

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.at(path="/public", file)

GET     /configurations             @controllers.Application.configurations()

GET     /tests                      @controllers.Application.tests(configuration: Option[Configuration] ?= None, status: Option[TestStatus] ?= None, name: Option[String] ?= None, group: Option[String] ?= None, page: Option[Int] ?= None, pageSize: Option[Int] ?= None)
GET     /tests/stale                @controllers.Application.staleTests(configuration: Option[Configuration] ?= None, page: Option[Int] ?= None, pageSize: Option[Int] ?= None)
POST    /tests/delete               @controllers.Application.deleteTests()

GET     /test/:id                   @controllers.Application.test(id: Id[Test], configuration: Option[Configuration] ?= None, page: Option[Int] ?= None, pageSize: Option[Int] ?= None)
POST    /test/:id/delete            @controllers.Application.deleteTest(id: Id[Test])
POST    /test/:id/undelete          @controllers.Application.undeleteTest(id: Id[Test])

GET     /execution/:id              @controllers.Application.execution(id: Id[Execution])
POST    /execution/:id/comment      @controllers.Application.setExecutionComment(id: Id[Execution])
GET     /executions                 @controllers.Application.executions(configuration: Option[Configuration] ?= None, passed: Option[Boolean] ?= None, page: Option[Int] ?= None, pageSize: Option[Int] ?= None)
GET     /executions/logs            @controllers.Application.searchLogs(query: Option[String] ?= None, page: Option[Int] ?= None, pageSize: Option[Int] ?= None)

GET     /batch/:id                  @controllers.Application.batch(id: Id[Batch], passed: Option[Boolean] ?= None, page: Option[Int] ?= None, pageSize: Option[Int] ?= None)
GET     /batch/:id/log              @controllers.Application.batchLog(id: Id[Batch])
POST    /batch/:id/delete           @controllers.Application.deleteBatch(id: Id[Batch])

GET     /batches                    @controllers.Application.batches(job: Option[JenkinsJobId] ?= None, configuration: Option[Configuration] ?= None, page: Option[Int] ?= None, pageSize: Option[Int] ?= None)
POST    /batches/delete             @controllers.Application.deleteBatches()
 
GET     /systemConfiguration        @controllers.Application.editSystemConfiguration
POST    /systemConfiguration        @controllers.Application.updateSystemConfiguration

GET     /admin                      @controllers.Application.admin()
POST    /deleteAll                  @controllers.Application.deleteAll()

GET     /webApi/tests/names         @controllers.Application.testNames(query: String)
GET     /webApi/tests/groups        @controllers.Application.groups(query: String)

GET     /api/batches                @controllers.JsonController.getBatches()
POST    /api/batches                @controllers.JsonController.addBatch()
POST    /api/deleteAll              @controllers.JsonController.deleteAll()

POST    /api/testing/analyseAllExecutions     @controllers.Application.analyseAllExecutions()

GET     /jenkins/auth               @controllers.JenkinsController.auth()
POST    /jenkins/auth               @controllers.JenkinsController.updateAuth()
GET     /jenkins/reruns             @controllers.JenkinsController.reruns()
POST    /jenkins/reruns             @controllers.JenkinsController.updateReruns()

GET     /jenkins/jobs               @controllers.JenkinsController.jenkinsImportSpecs()
GET     /jenkins/jobs/new           @controllers.JenkinsController.newJenkinsImportSpec()
POST    /jenkins/jobs/new           @controllers.JenkinsController.createJenkinsImportSpec()

GET     /jenkins/job/:id/status     @controllers.JenkinsController.getJenkinsImportSpec(id: Id[JenkinsImportSpec])
GET     /jenkins/job/:id/edit       @controllers.JenkinsController.editJenkinsImportSpec(id: Id[JenkinsImportSpec])
POST    /jenkins/job/:id/edit       @controllers.JenkinsController.updateJenkinsImportSpec(id: Id[JenkinsImportSpec])
POST    /jenkins/job/:id/delete     @controllers.JenkinsController.deleteJenkinsImportSpec(id: Id[JenkinsImportSpec])
POST    /jenkins/job/:id/sync       @controllers.JenkinsController.syncJenkins(id: Id[JenkinsImportSpec])

POST    /jenkins/tests/rerun        @controllers.JenkinsController.rerunSelectedTests()
POST    /jenkins/test/:id/rerun     @controllers.JenkinsController.rerunTest(id: Id[Test])
